# Проект Сервиса по выдаче ипотечных кредитов

 
## Описание проекта
Данный проект может принимать ипотечные заяки и обрабатывать их автоматически. В ответ на заявку Вы получите решение, принятое по Вашей заявке.

*Все заявки и ответы на заявки сохраняются в базу данных в связанные таблицы.*

С помощью сервиса Вы можете получить все успешные или все отклоненные заявки.

Заявка проверяется по 3 параметрам:
1. Есть ли у клиента финансовая возможность выплачивать кредит;
2. Является ли клиент террористом (в тестах вместо обращения к стороннему сервису используется заглушка);
3. Проверка кредитной истории клиента (проверяется в базе данных сервиса); 

Написанный функционал покрыт тестами

## Используемые технологии

  - Gradle
  - Spring 
  - MySql // h2database
  - junit
```
Вы можете скопировать базу данных для тестовой проверки сервиса с помощью файлов 
*.sql в папке "sqlDunp" для работы с базой данных MySql
```

### Описание работы с проектом
Данный проект поддерживает возможность отправки запроса с заявкой POST 
по url `/mortgages`

Пример post запроса:
```
POST http://localhost:8080/mortgages
Content-Type: application/json

{
 "surname": "Дмитриева",
 "firstName": "Арина",
 "salary": 50000,
 "creditPeriod": 24,
 "creditAmount": 200000
}
```
Пример get запроса для получения всех отклоненных заявок с MySql по локальному хосту
```
GET http://localhost:8080/mortgages/declined
```

Пример get запроса для получения всех успешных заявок с MySql по локальному хосту
```
GET http://localhost:8080/mortgages/successful
```

### для проверки через heroku 

Пример get запроса для получения всех успешных заявок на heroku
```
https://handler-homework.herokuapp.com/mortgages/successful
```

Пример get запроса для получения всех отклоненных заявок на heroku
```
https://handler-homework.herokuapp.com/mortgages/declined
```
### Описание тестов
Для запуска тестов используйте команду:
```
gradle clean test
```
Для проверки "Является ли клиент террористом" используется заглушка Mockito.

### Автор проекта
Кряжова Светлана Юрьевна
